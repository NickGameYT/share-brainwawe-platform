{"version":3,"file":"hooks.server-DdzVKA0q.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import { J as JWT_SECRET_KEY } from \"./private.js\";\nimport jwt from \"jsonwebtoken\";\nconst handle = async ({ event, resolve }) => {\n  const token = event.cookies.get(\"user\");\n  if (!token) {\n    return await resolve(event);\n  }\n  try {\n    const payload = jwt.verify(token, JWT_SECRET_KEY);\n    event.locals.user = payload;\n  } catch (_e) {\n    console.log(_e);\n    return await resolve(event);\n  }\n  return await resolve(event);\n};\nexport {\n  handle\n};\n"],"names":[],"mappings":";;;AAEK,MAAC,MAAM,GAAG,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK;AAC7C,EAAE,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;AACzC,EAAE,IAAI,CAAC,KAAK,EAAE;AACd,IAAI,OAAO,MAAM,OAAO,CAAC,KAAK,CAAC;AAC/B;AACA,EAAE,IAAI;AACN,IAAI,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,cAAc,CAAC;AACrD,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,GAAG,OAAO;AAC/B,GAAG,CAAC,OAAO,EAAE,EAAE;AACf,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;AACnB,IAAI,OAAO,MAAM,OAAO,CAAC,KAAK,CAAC;AAC/B;AACA,EAAE,OAAO,MAAM,OAAO,CAAC,KAAK,CAAC;AAC7B;;;;"}